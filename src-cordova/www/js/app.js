(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],u=0,f=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},s=[];function i(e){return o.p+"js/"+({}[e]||e)+".js"}function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",l.name="ChunkLoadError",l.type=n,l.request=s,a[1](l)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;s.push([0,1]),a()})({0:function(e,t,a){e.exports=a("2f39")},"02ac":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("q-card",{staticClass:"bg-white q-ma-xs q-pa-xs",attrs:{flat:"",bordered:""}},[a("q-expansion-item",{attrs:{icon:"perm_identity",label:e._f("uppercaseFirst")(e.currentOrder.name)}},[a("q-card",{staticClass:"q-pa-xs"},[a("div",{staticClass:"row flex-center"},[a("div",[a("h5",[e._v(e._s(e._f("uppercaseFirst")(e.currentOrder.name)))])])]),a("q-separator"),a("div",{staticClass:"row commande q-pa-xs"},[a("div",{staticClass:"col-xs-12 col-sm-6 date-cde q-pa-sm"},[e._v("\n            Date commande : "+e._s(e._f("dateFrench")(e.currentOrder.expected_date))+"\n          ")]),a("div",{staticClass:"col-xs-12 col-sm-6 num-cde q-pa-sm"},[e._v("\n            Numéro de commande : "+e._s(e.orderNumber(e.currentOrder.number))+"\n          ")]),a("div",{staticClass:"col-xs-12 col-sm-6 statut-actuel q-pa-sm"},[e._v("\n            Statut actuel : "+e._s(e.currentOrder.status)+"\n          ")]),a("div",{staticClass:"col-xs-12 col-sm-6 type-bon q-pa-sm"},[e._v("\n            Type de bon : "+e._s(e.currentOrder.type)+"\n          ")])]),a("q-separator"),a("div",{staticClass:"row q-pa-sm q-mb-md contact"},[a("div",{staticClass:"col-xs-12 col-sm-6"},[a("div",{staticClass:"col cta-name q-pa-sm"},[e._v("\n              Contact : "+e._s(e.currentOrder.contact_name)+"\n            ")]),a("div",{staticClass:"col cta-tel q-pa-sm"},[e._v("\n              Téléphone : "+e._s(e.currentOrder.contact_phone)+"\n            ")]),a("div",{staticClass:"col cta-ema q-pa-sm"},[e._v("\n              Email : "+e._s(e.currentOrder.contact_email)+"\n            ")])]),a("div",{staticClass:"col-xs-12 col-sm-6 full-height justify-between"},[a("div",{staticClass:"add-mai flex"},[a("div",{staticClass:"col-xs-3 bg-green q-pa-xs"},[e._v("Adresse :")]),a("div",{staticClass:"col-xs-9 bg-blue q-pa-xs text-right"},[e._v("\n                "+e._s(e.currentOrder.address_line_1)),a("br"),e._v("\n                "+e._s(e.currentOrder.post_code)+" "+e._s(e.currentOrder.city)+"\n              ")])]),a("div",{staticClass:"add-cmp q-pa-sm justify-end"},[e._v("\n              Complément d'adresse : "+e._s(e.currentOrder.address_line_2)+"\n            ")])])]),a("q-separator"),a("div",{staticClass:"row q-pa-xs q-mb-sm divers"},[a("div",{staticClass:"col-xs-12 col-sm-6 div-ite q-pa-sm"},[e._v("\n            Nb d'items : "+e._s(e.currentOrder.total_items)+"\n          ")]),a("div",{staticClass:"col-xs-12 col-sm-6 div-tot q-pa-sm"},[e._v("\n            Nb total de produits : "+e._s(e.currentOrder.total_products)+"\n          ")])]),a("q-separator"),a("q-btn",{staticClass:"full-width q-my-sm",attrs:{color:"primary",label:"Ajouter un produit",icon:"add",size:"lg"}}),a("q-btn",{staticClass:"full-width q-my-sm",attrs:{color:"primary",label:"Envoyer sur slack",icon:"chat_bubble_outline",size:"lg"}}),a("q-btn",{staticClass:"full-width q-my-sm",attrs:{color:"primary",label:"Commentaire",icon:"notes",size:"lg"}})],1)],1)],1)],1)},r=[],s={name:"SupplierInfos",data:function(){return{currentOrder:null}},methods:{orderNumber:function(e){if("CREATED_BY_NYX"==e)return"n/a"}},created:function(){},mounted:function(){this.currentOrder=this.$store.getters.currentOrder.details},updated:function(){},computed:{}},i=s,o=(a("59ea"),a("2877")),c=a("f09f"),l=a("3b73"),u=a("eb85"),d=a("9c40"),f=a("eebe"),p=a.n(f),m=Object(o["a"])(i,n,r,!1,null,null,null);t["default"]=m.exports;p()(m,"components",{QCard:c["a"],QExpansionItem:l["a"],QSeparator:u["a"],QBtn:d["a"]})},"1bc7":function(e,t,a){},"1bd0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-grey-8 full-width grey-banner"},[a("div",{staticClass:"whole-container"},[a("div",{staticClass:"text-white date-banner"},[e.dateFromShort==e.dateToShort?a("div",{staticClass:"text-center"},[e._v("\n        Date : "),a("b",[e._v(e._s(e._f("dateFrench")(e.dateFrom)))])]):a("div",{staticClass:"text-center"},[e._v("\n        Période : du "),a("b",[e._v(e._s(e._f("dateFrench")(e.dateFrom)))]),e._v(" au\n        "),a("b",[e._v(e._s(e._f("dateFrench")(e.dateTo)))])])]),a("div",{staticClass:"menu-banner float-right"},[a("MainMenu")],1)])])},r=[],s=a("2b0e"),i=a("c1df"),o=a.n(i),c=a("aa0a");s["a"].component("MainMenu",c["default"]);var l={name:"TargetDate",data:function(){return{dateFrom:null,dateTo:null,dateFromShort:null,dateToShort:null}},methods:{setNewDates:function(e,t){this.dateFrom=o()(e).format("YYYY-MM-DDTHH:mm:ss+01:mm"),this.dateTo=o()(t).format("YYYY-MM-DDTHH:mm:ss+01:mm"),this.dateFromShort=o()(this.dateFrom).format("DD-MM-YYYY"),this.dateToShort=o()(this.dateTo).format("DD-MM-YYYY");var a={dateFrom:this.dateFrom,dateTo:this.dateTo,dateFromShort:this.dateFromShort,dateToShort:this.dateToShort};this.$store.commit("mutate_targetDate",{dateObj:a}),this.$parent.getPoList()},onToday:function(){var e=1e3*o()().startOf("day").unix(),t=1e3*o()().endOf("day").unix();this.setNewDates(e,t)}},created:function(){this.onToday()},mounted:function(){},beforeDestroy:function(){this.dateFrom=null,this.dateTo=null,this.dateFromShort=null,this.dateToShort=null},computed:{}},u=l,d=(a("6bda"),a("2877")),f=Object(d["a"])(u,n,r,!1,null,null,null);t["default"]=f.exports},"21fe":function(e,t,a){"use strict";var n=a("fbe3"),r=a.n(n);r.a},"22f4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-display"},[e.loaded?a("div",{staticClass:"q-px-xs"},[a("SupplierInfos",{ref:"SupplierInfoInstance"})],1):e._e(),e.loaded?a("q-list",{staticClass:"cart-list q-pa-xs"},e._l(e.allItems,(function(e){return a("CartItem",{key:e.id,attrs:{item:e}})})),1):e._e(),a("div",[a("div",{staticClass:"q-my-md text-center"},[a("q-btn",{staticClass:"q-mx-md q-my-md",attrs:{label:"Retour",icon:"arrow_back_ios",color:"primary",size:"md"},on:{click:e.backToList}}),e.loaded?a("q-btn",{staticClass:"q-mx-md q-my-md",attrs:{label:"Valider","icon-right":"send",color:"primary",size:"md",disable:e.disableValidate},on:{click:e.validateOrder}}):e._e()],1)])],1)},r=[],s=(a("a630"),a("3ca3"),a("2b0e")),i=a("bc3a"),o=a.n(i),c=a("02ac"),l=a("84c1");s["a"].component("SupplierInfos",c["default"]),s["a"].component("CartItem",l["default"]);var u={name:"PurchaseOrderDisplay",components:{SupplierInfos:c["default"],CartItem:l["default"]},data:function(){return{allItems:[],disableValidate:!0,loaded:!1}},methods:{getPurchaseOrder:function(){var e=this,t=this.$store.getters.apiurl+"generic/"+this.$store.state.pickingModule.currentOrder.meta.index+"/"+this.$store.state.pickingModule.currentOrder.meta.id+"?token="+this.$store.getters.creds.token;this.$q.loading.show(),o.a.get(t).then((function(t){for(var a=e.$store.state.pickingModule.currentOrder,n=Array.from(JSON.parse(t.data.data._source.line_items)),r=n.length,s=0,i=0;i<n.length;i++)s+=n[i].quantity;e.allItems=n,e.$store.commit("mutate_currentOrder",{order:{meta:{id:a.meta.id,index:a.meta.index},details:{name:t.data.data._source.clean_name,address_line_1:t.data.data._source.address_line_1,address_line_2:t.data.data._source.address_line_2,post_code:t.data.data._source.post_code,city:t.data.data._source.city,contact_name:t.data.data._source.sales_contact_name,contact_email:t.data.data._source.sales_contact_email,contact_phone:t.data.data._source.sales_phone_number,status:t.data.data._source.status,number:t.data.data._source.number,supplier_id:t.data.data._source.supplier_id,type:t.data.data._source.type,picker:t.data.data._source.picker,expected_date:t.data.data._source.expected_date,total_items:r,total_products:s},cart:{line_items:n}}}),console.log("#### POST COMMIT : ",e.$store.state.pickingModule.currentOrder),e.loaded=!0,e.$q.loading.hide()})).catch((function(t){console.log("(getPurchaseOrder()::GET) UN PROBLEME EST SURVENU : ",t),e.$q.loading.hide()}))},backToList:function(){var e={id:"",index:""};this.$root.$emit("toggleDisplayEvent",e)},validateOrder:function(){}},created:function(){this.getPurchaseOrder()},beforeMount:function(){},computed:{}},d=u,f=(a("6644"),a("2877")),p=a("1c1c"),m=a("9c40"),h=a("eebe"),g=a.n(h),v=Object(f["a"])(d,n,r,!1,null,null,null);t["default"]=v.exports;g()(v,"components",{QList:p["a"],QBtn:m["a"]})},"25cc":function(e,t,a){},"2f39":function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319"),a("96cf");var n=a("c973"),r=a.n(n),s=(a("7d6e"),a("e54f"),a("35fc"),a("9f29"),a("573e"),a("62f2"),a("7e6d"),a("2b0e")),i=a("b05d"),o=a("4d5a"),c=a("e359"),l=a("9404"),u=a("09e3"),d=a("9989"),f=a("65c6"),p=a("6ac5"),m=a("9c40"),h=a("0016"),g=a("27f9"),v=a("1c1c"),b=a("66e5"),_=a("8572"),y=a("4074"),j=a("ee89"),x=a("b047"),k=a("ddd8"),q=a("daf4"),w=a("9564"),O=a("52ee"),$=a("ca78"),C=a("714f"),S=a("2a19"),M=a("436b"),D=a("f508"),Q=a("b12a");s["a"].use(i["a"],{config:{loading:{delay:400},capacitor:{backButtonExit:!1,backButton:!1},cordova:{backButtonExit:!1,backButton:!1}},components:{QLayout:o["a"],QHeader:c["a"],QDrawer:l["a"],QPageContainer:u["a"],QPage:d["a"],QToolbar:f["a"],QToolbarTitle:p["a"],QBtn:m["a"],QIcon:h["a"],QInput:g["a"],QList:v["a"],QItem:b["a"],QField:_["a"],QItemSection:y["a"],QUploader:j["a"],QChip:x["a"],QSelect:k["a"],QRating:q["a"],QToggle:w["a"],QDate:O["a"],QTime:$["a"]},directives:{Ripple:C["a"]},plugins:{Notify:S["a"],Dialog:M["a"],Loading:D["a"],AppFullscreen:Q["a"]}});var T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},P=[],z={name:"App"},E=z,L=a("2877"),A=Object(L["a"])(E,T,P,!1,null,null,null),N=A.exports,F=a("2f62"),I=a("bc3a"),R=a.n(I),Y=a("c1df"),B=a.n(Y);a("a709"),a("8d6f"),a("5781");s["a"].use(F["a"]);var H=function(){var e=new F["a"].Store({state:{version:"v1.0.2",apiurl:"../api/v1/",menus:[],apps:[],currentApps:null,activeApp:null,privileges:[],filteredmenus:[],creds:{},maintitle:"",appName:"mobile"},getters:{version:function(e){return e.version},appName:function(e){return e.appName},apiurl:function(e){return e.apiurl},creds:function(e){return e.creds},privileges:function(e){return e.privileges},filteredmenus:function(e){return e.filteredmenus},currentApps:function(e){return e.currentApps},activeApp:function(e){return e.activeApp},menus:function(e){return e.menus},maintitle:function(e){return e.maintitle}},actions:{privileges:function(e){var t=e.commit,a=e.state,n=a.apiurl+"generic_search/nyx_privilege?token="+a.creds.token;R.a.post(n,{size:1e3}).then((function(e){""!=e.data.error?console.log("Privileges error..."):(console.log("Privileges success..."),t("privileges",e.data.records))})).catch((function(e){console.log(e)}))},filters:function(e){var t=e.commit,a=e.state,n=a.apiurl+"generic_search/nyx_filter?token="+a.creds.token;R.a.post(n,{}).then((function(e){""!=e.data.error?console.log("Filters error..."):(console.log("Filters success..."),t("filters",e.data.records))})).catch((function(e){console.log(e)}))}},mutations:{filters:function(e,t){e.filters=t},privileges:function(e,t){e.privileges=t},login:function(e,t){for(var a in console.log("Login mutation called."),e.initialized=!1,e.creds=t.data.cred,e.menus=t.data.menus,e.apps=[],t.data.menus){var n=t.data.menus[a];if("apps"==n.category&&void 0!=n.submenus&&n.submenus.length>0)for(var r in n.submenus)e.apps=n.submenus[r].apps}e.filteredmenus=[];var s=e.menus;for(var i in s)if("apps"!=s[i].category){var o=[];for(var c in s[i].submenus){var l=[];for(var u in s[i].submenus[c].apps){var d=s[i].submenus[c].apps[u].type;"form"!=d&&"free-text"!=d&&"internal"!=d||l.push(s[i].submenus[c].apps[u])}l.length>0&&(s[i].submenus[c].apps=JSON.parse(JSON.stringify(l)),o.push(JSON.parse(JSON.stringify(s[i].submenus[c]))))}o.length>0&&(s[i].submenus=JSON.parse(JSON.stringify(o)),e.filteredmenus.push(s[i]))}e.currentApps=e.filteredmenus[0].submenus[0],e.activeApp=e.filteredmenus[0].submenus[0].apps[0],e.maintitle=e.filteredmenus[0].submenus[0].loc_title,e.maintitleicon=e.filteredmenus[0].submenus[0].icon,console.log("Login mutation done.")},logout:function(e){var t=e.apiurl+"cred/logout?token="+e.creds.token;R.a.get(t).then((function(e){""!=e.data.error?console.log("Logout error..."):console.log("Logout success...")})).catch((function(e){console.log(e)}))},changeApps:function(e,t){console.log("VUEX:CURRENT APP:"),console.log(JSON.stringify(t.data)),e.currentApps=t.data,e.maintitle=t.data.loc_title,e.maintitleicon=t.data.icon,e.timeRangeVisible=t.data.apps[0].timeSelectorChecked},changeApp:function(e,t){console.log("changeApp mutation called.");for(var a=null,n=0;n<e.filteredmenus.length;n++){for(var r=e.filteredmenus[n],i=0;i<r.submenus.length;i++){for(var o=r.submenus[i],c=0;c<o.apps.length;c++)if(o.apps[c].rec_id===t.data){a=o.apps[c],e.currentSubCategory=o;break}if(null!==a)break}if(null!==a)break}e.maintitle=e.currentSubCategory.loc_title,e.activeApp=null,e.activeApp=a,console.log(a),null!=a.timeDefault&&""!=a.timeDefault&&(console.log("send forcetime"),s["a"].prototype.$globalbus.$emit("forcetime",a.timeDefault),console.log("send forcetime"))},updateRecord:function(e,t){var a=e.apiurl+"generic/"+t.data._index+"/"+t.data._id+"?token="+e.creds.token;R.a.post(a,t.data._source).then((function(e){""!=e.data.error?console.log("Save object error..."):console.log("Save object success...")})).catch((function(e){console.log(e)}))},sendMessage:function(e,t){console.log("Send Message");var a=e.apiurl+"sendmessage?token="+e.creds.token,n={destination:""+t.data.destination,body:t.data.message};R.a.post(a,n).then((function(e){""!=e.data.error&&console.log("Unable to send message")})).catch((function(e){console.log(e)}))}}});return e},U=a("8c4f"),J=(a("d3b7"),a("e6cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"bg-grey-1"},[a("div",{staticClass:"login-container"},[a("q-input",{staticClass:"login-input",attrs:{error:e.$v.form.login.$error,"float-label":"Login",disable:e.loading,clearable:""},on:{blur:e.$v.form.login.$touch,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.form.login,callback:function(t){e.$set(e.form,"login",t)},expression:"form.login"}}),a("q-input",{staticClass:"password-input",attrs:{type:"password",error:e.$v.form.password.$error,"float-label":"Password",disable:e.loading,clearable:""},on:{blur:e.$v.form.password.$touch,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("q-btn",{staticClass:"login-button",attrs:{color:"primary",rounded:"",size:"lg",outline:"",loading:e.loading},on:{click:e.submit}},[e._v("Login")])],1)])}),V=[],W=(a("1276"),a("b5ae")),G={data:function(){return{form:{login:"",password:""},loading:!1}},validations:{form:{login:{required:W["required"]},password:{required:W["required"]}}},methods:{submit:function(){if(this.$v.form.$touch(),this.$v.form.$error)return this.$q.notify({message:"Unable to authenticate.",type:"negative",position:"bottom",closeBtn:!0,timeout:500}),void(this.loading=!1);this.validateUser()},validateUser:function(){var e=this;return r()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,console.log(e.$store.getters.apiurl),t.next=5,R.a.post(e.$store.getters.apiurl+"cred/login",{login:e.form.login,password:e.form.password,app:e.$store.getters.appName});case 5:a=t.sent,""==a.data.error?e.authenticate(a):(e.$q.notify({message:a.data.error,type:"negative",position:"bottom",closeBtn:!0,timeout:500}),e.loading=!1),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.loading=!1,console.log(t.t0);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},authenticate:function(e){localStorage.authResponse=JSON.stringify(e),this.$i18n.locale=e.data.cred.user.language,e.data.cred.user.user=this.form.login,this.$store.commit({type:"login",data:e.data});var t=this.$store.getters.activeApp.rec_id;this.$store.commit({type:"changeApp",data:t});var a="/main/"+t;console.log("pushing path",a),this.$router.push(a),this.$q.notify({title:this.$t("notifications.message"),message:this.$t("notifications.welcome")+" v("+e.data.version+"/v1.0)",type:"positive",position:"bottom",timeout:500}),this.form.login="",this.form.password="",this.$store.dispatch("privileges"),this.$store.dispatch("filters")}},mounted:function(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,a,n){e[a]=n})),void 0!=e["api"]&&(this.$store.state.apiurl=e["api"].split("#")[0])}},K=G,X=(a("da41"),a("57d9"),a("b498")),Z=a("eebe"),ee=a.n(Z),te=Object(L["a"])(K,J,V,!1,null,"83f0a7ea",null),ae=te.exports;ee()(te,"components",{QLayout:o["a"],QInput:g["a"],QBtn:m["a"],QColor:X["a"]});var ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-header",[a("q-toolbar",[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(t){e.showLeft=!e.showLeft}}}),a("q-toolbar-title",[e._v("\n        "+e._s(e.title)+"\n        "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.maintitle))])])],1)],1),a("q-drawer",{attrs:{side:"left"},model:{value:e.showLeft,callback:function(t){e.showLeft=t},expression:"showLeft"}},[a("div",{staticClass:"bg-brown-1 account-container"},[a("q-icon",{staticClass:"account-icon",attrs:{size:"80px",name:"account_circle",color:"green"}}),e.creds?a("div",{staticClass:"user-info"},[a("small",{staticClass:"text-bold lowercase text-black block"},[e._v(e._s(e.creds.user.firstname)+" "+e._s(e.creds.user.lastname))]),a("small",{staticClass:"text text-grey-7 block"},[e._v(e._s(e.creds.user.user))]),a("small",{staticClass:"logout-button text-bold lowercase text-black block"},[e._v(e._s(e.$store.getters.version))])]):e._e(),a("q-btn",{staticClass:"pwd-button",attrs:{rounded:"",outline:"",color:"negative",size:"sm",label:"Logout"},on:{click:function(t){return e.clickLogout()}}})],1),a("q-list",{attrs:{"no-border":"",link:"","inset-separator":""}},e._l(e.filteredmenus,(function(t,n){return a("span",{key:n},[a("q-item-label",{attrs:{header:""}},[e._v(e._s(t.loc_category))]),e._l(t.submenus,(function(t,n){return a("q-item",{key:n,attrs:{to:"/main/"+t.apps[0].rec_id},nativeOn:{click:function(a){return e.appClicked(t)}}},["form"==t.apps[0].type?a("q-item-section",{attrs:{avatar:"",icon:"insert_drive_file"}}):a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"school"}})],1),a("q-item-section",[e._v(e._s(t.loc_title))])],1)}))],2)})),0)],1),a("q-page-container",[a("router-view")],1)],1)},re=[],se=(a("caad"),a("2532"),a("2ef0"),{name:"home",data:function(){return{title:"NYX Mobile",showLeft:!1}},computed:{apiurl:function(){return this.$store.getters.apiurl},creds:function(){return this.$store.getters.creds},menus:function(){return this.$store.getters.menus},maintitle:function(){if(this.$store.getters.activeApp)return this.$store.getters.activeApp.title},filteredmenus:function(){return this.$store.getters.filteredmenus}},methods:{clickLogout:function(){var e=this;this.$q.dialog({title:"Warning",message:"Are you sure you want to logout ?",color:"negative",ok:!0,cancel:!0}).then((function(){e.logout()})).catch((function(){}))},logout:function(){console.log("BEFCOMMIT"),this.$store.commit({type:"logout",data:{}}),console.log("AFTERCOMMIT"),this.$q.notify({title:this.$t("notifications.message"),message:this.$t("notifications.bye"),type:"positive",position:"bottom",timeout:500}),this.$router.push("/")},appClicked:function(e){"external"==e.type&&window.open(e.config.url)}},created:function(){var e=r()(regeneratorRuntime.mark((function e(){var t,a,n,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Main created"),t={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,a,n){t[a]=n})),void 0!=t["api"]&&(this.$store.state.apiurl=t["api"].split("#")[0]),void 0!=this.$store.getters.currentSubCategory||!localStorage.authResponse){e.next=20;break}return a=this.$route.path,"/"==a[a.length-1]&&(a=a.substring(0,a.length-1)),n=a.replace("/main/",""),r=JSON.parse(localStorage.authResponse),s=this.$store.getters.apiurl+"status?token="+r.data.cred.token,e.prev=10,e.next=13,R.a.get(s);case 13:i=e.sent,200==i.status&&""==i.data.error&&(this.$store.commit({type:"login",data:r.data}),this.$store.commit({type:"changeApp",data:n}),r.data.cred.user.privileges.includes("admin")&&(this.$store.commit({type:"privileges",data:r.data.all_priv}),this.$store.commit({type:"filters",data:r.data.all_filters}))),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](10),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[10,17]])})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},beforeDestroy:function(){}}),ie=se,oe=(a("3209"),a("0170")),ce=Object(L["a"])(ie,ne,re,!1,null,"64b1634c",null),le=ce.exports;ee()(ce,"components",{QLayout:o["a"],QHeader:c["a"],QToolbar:f["a"],QBtn:m["a"],QToolbarTitle:p["a"],QDrawer:l["a"],QIcon:h["a"],QList:v["a"],QItemLabel:oe["a"],QItem:b["a"],QItemSection:y["a"],QPageContainer:u["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["form"==e.activeApp.type?a("div",[a("Form",{attrs:{config:e.activeApp}})],1):a("div",[a(e.activeApp.config.controller,{tag:"component",attrs:{config:e.activeApp}})],1)])},de=[],fe=(a("4160"),a("e260"),a("159b"),a("ddb0"),a("ded3")),pe=a.n(fe),me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-container"},[e._l(e.formModel,(function(t){return a("q-field",{key:t.field,attrs:{label:e.computeTranslatedText(t.title,e.$store.getters.creds.user.language)}},["string"==t.type?a("q-input",{attrs:{type:t.subtype,color:t.color,inverted:t.inverted,clearable:t.clearable},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"number"==t.type?a("q-input",{attrs:{type:t.type,color:t.color,inverted:t.inverted,clearable:t.clearable},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"datetime"==t.type?a("q-datetime",{attrs:{color:t.color,inverted:t.inverted,type:t.subtype},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"uploader"==t.type?a("q-uploader",{attrs:{color:t.color,inverted:t.inverted,url:t.value}}):e._e(),"chips"==t.type?a("q-chips-input",{attrs:{color:t.color,inverted:t.inverted},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"boolean"==t.type?a("q-toggle",{attrs:{color:t.color,inverted:t.inverted},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"rating"==t.type?a("q-rating",{attrs:{color:t.color,inverted:t.inverted,max:t.maxRating},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"selecter"==t.type?a("q-select",{attrs:{options:t.selectOptions,color:t.color,inverted:t.inverted,multiple:t.multiple},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e()],1)})),a("div",{staticClass:"button-box"},[a("q-btn",{staticClass:"send-form-button",attrs:{color:"primary",size:"lg",outline:"",loading:e.loading},on:{click:e.submit}},[e._v("Send")]),a("q-btn",{staticClass:"send-form-button",attrs:{color:"negative",size:"lg",outline:"",disable:e.loading},on:{click:e.reset}},[e._v("Reset")])],1)],2)},he=[];a("4de4"),a("fb6a"),a("8a79"),a("2ca0");function ge(e,t){if(void 0==e)return"";if(!e.startsWith("@")||!e.endsWith("@"))return e;var a=e.substring(1,e.length-1).split(";"),n={};return a.forEach((function(e){var t=e.split("=");t.length>0&&(n[t[0]]=t[1])})),void 0!=n[t]?n[t]:a}s["a"].filter("formatDate",(function(e){if(e)return B()(String(e)).format("DD/MM")})),s["a"].filter("dateShort",(function(e){if(e)return B()(String(e)).format("DD/MM")})),s["a"].filter("dateFrench",(function(e){if(e)return B.a.locale("fr"),B()(String(e)).format("DD MMMM YYYY")})),s["a"].filter("uppercaseFirst",(function(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}));var ve=a("ebfd"),be=a.n(ve);s["a"].use(be.a);var _e={name:"Form",data:function(){return{formLabelWidth:"120px",chips:["abc"],inverted:!0,loading:!1,formModel:null}},props:{config:{type:Object}},computed:{configin:function(){return this.config}},watch:{configin:function(){this.prepareData()}},created:function(){this.prepareData()},methods:{computeTranslatedText:function(e,t){return ge(e,t)},prepareData:function(){for(var e in console.log("prepare data"),this.formModel=JSON.parse(JSON.stringify(this.config.config.headercolumns)),console.log("prepare data"),console.log(JSON.stringify(this.config.config.headercolumns)),this.formModel){var t=this.formModel[e];if("chips"==t.type)t.value=[];else if("uploader"==t.type)t.value="";else if("string"==t.type)t.value="";else if("boolean"==t.type)t.value=!1;else if("number"==t.type)t.value=0;else if("rating"==t.type)t.value=0;else if("datetime"==t.type)t.subType="datetime",t.value=B.a.now();else if("selecter"==t.type){for(var e in t.selectOptions){var a={label:t.selectOptions[e],value:t.selectOptions[e]};t.selectOptions[e]=a}t.multiple?t.value=[]:t.value=""}else t.value=null;null==t.color&&(t.color="light"),null==t.inverted&&(t.inverted=!0)}var n=JSON.parse(JSON.stringify(this.formModel));this.formModel={},this.formModel=n},reset:function(){this.prepareData()},submit:function(){var e=this;this.loading=!0;var t={_index:this.config.config.index,_source:{},_id:"id_"+Math.floor(16777216*(1+Math.random()))+"_"+Math.floor(16777216*(1+Math.random()))};for(var a in this.formModel){var n=this.formModel[a];t["_source"][n.field]=n.value}t["_source"]["@timestamp"]=B()(),this.$getLocation({enableHighAccuracy:!1}).then((function(a){t._source.location=[a["lng"],a["lat"]],t._source.user=e.$store.getters.creds.user.user;var n="table";void 0!=e.config.config.formmode&&(n=e.config.config.formmode),"table"==n?e.$store.commit({type:"updateRecord",data:t}):e.$store.commit({type:"sendMessage",data:{destination:e.config.config.destination,message:JSON.stringify(t._source)}}),e.$q.notify({title:"saved",message:"Saved",type:"positive",position:"bottom",timeout:500}),e.prepareData(),e.loading=!1})).catch((function(t){alert(t),e.loading=!1}))}}},ye=_e,je=(a("a82c"),Object(L["a"])(ye,me,he,!1,null,"49fcdbea",null)),xe=je.exports;ee()(je,"components",{QField:_["a"],QInput:g["a"],QDate:O["a"],QUploader:j["a"],QChip:x["a"],QToggle:w["a"],QRating:q["a"],QSelect:k["a"],QBtn:m["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("h1",[e._v("Free text 3")]),a("span",{domProps:{innerHTML:e._s(e.config.config.freetext)}})])},qe=[],we={name:"FreeText",data:function(){return{}},props:{config:{type:Object}},methods:{},created:function(){},mounted:function(){},beforeDestroy:function(){clearInterval(this.timer)}},Oe=we,$e=Object(L["a"])(Oe,ke,qe,!1,null,null,null),Ce=$e.exports;s["a"].component("Form",xe),s["a"].component("FreeText",Ce);var Se=a("92d5"),Me={};Se.keys().forEach((function(e){var t="".concat(e.split(".")[1].split("/")[e.split(".")[1].split("/").length-1]),a=Se(e).default;console.log(t),Me[t]=a}));var De={data:function(){return{selectedTab:"TAB-0",loading:!1}},components:pe()({},Me),watch:{$route:function(e,t){var a=this;console.log("WATCHER ROUTE GENERIC COMPONENT"),t.params.recid!==e.params.recid?(console.log("from"),console.log(t),console.log("to"),console.log(e),this.loading=!0,this.$store.commit({type:"changeApp",data:this.$route.params.recid}),this.$nextTick((function(){return a.loading=!1}))):console.log("Same recid, no need to change app")}},computed:{activeApp:function(){return this.$store.getters.activeApp},currentApps:function(){return this.$store.getters.currentApps}},methods:{handleTabClick:function(e){}},mounted:function(){},destroyed:function(){},updated:function(){console.log("**********  Updated:")}},Qe=De,Te=Object(L["a"])(Qe,ue,de,!1,null,null,null),Pe=Te.exports,ze=[{path:"/",name:"Login",component:ae},{path:"/main",name:"Main",component:le,children:[{path:":recid",name:"GenericComponent",component:Pe}]}];ze.push({path:"*",component:function(){return a.e(2).then(a.bind(null,"e51e"))}});var Ee=ze;s["a"].use(U["a"]);var Le=function(){var e=new U["a"]({scrollBehavior:function(){return{y:0}},routes:Ee,mode:"hash",base:""});return e},Ae=function(){return Ne.apply(this,arguments)};function Ne(){return Ne=r()(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof H){e.next=6;break}return e.next=3,H({Vue:s["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=H;case 7:if(t=e.t0,"function"!==typeof Le){e.next=14;break}return e.next=11,Le({Vue:s["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=Le;case 15:return a=e.t1,t.$router=a,n={router:a,store:t,render:function(e){return e(N)}},n.el="#q-app",e.abrupt("return",{app:n,store:t,router:a});case 20:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}var Fe=a("a925"),Ie={failed:"Action failed",success:"Action was successful",notifications:{message:"message",bye:"bye bye",welcome:"welcome"}},Re={"en-us":Ie},Ye=function(e){var t=e.app,a=e.Vue;a.use(Fe["a"]),t.i18n=new Fe["a"]({locale:"en-us",fallbackLocale:"en-us",messages:Re})},Be=function(e){var t=e.Vue;t.prototype.$axios=R.a},He=a("1dce"),Ue=a.n(He),Je=function(e){var t=e.Vue;t.use(Ue.a)},Ve="";function We(){return Ge.apply(this,arguments)}function Ge(){return Ge=r()(regeneratorRuntime.mark((function e(){var t,a,n,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,a=t.app,n=t.store,r=t.router,i=!1,o=function(e){i=!0;var t=Object(e)===e?r.resolve(e).route.fullPath:e;window.location.href=t},c=window.location.href.replace(window.location.origin,""),l=[Ye,Be,Je],u=0;case 11:if(!(!1===i&&u<l.length)){e.next=29;break}if("function"===typeof l[u]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,l[u]({app:a,router:r,store:n,Vue:s["a"],ssrContext:null,redirect:o,urlPath:c,publicPath:Ve});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:u++,e.next=11;break;case 29:if(!0!==i){e.next=31;break}return e.abrupt("return");case 31:document.addEventListener("deviceready",(function(){s["a"].prototype.$q.cordova=window.cordova,new s["a"](a)}),!1);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Ge.apply(this,arguments)}We()},3209:function(e,t,a){"use strict";var n=a("25cc"),r=a.n(n);r.a},"3c62":function(e,t,a){"use strict";var n=a("ccc8"),r=a.n(n);r.a},4580:function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="4678"},"47e8":function(e,t,a){},"4bfa":function(e,t,a){},5781:function(e,t){},"57d9":function(e,t,a){"use strict";var n=a("c9fc"),r=a.n(n);r.a},"588f":function(e,t,a){"use strict";var n=a("dad6"),r=a.n(n);r.a},"59ea":function(e,t,a){"use strict";var n=a("47e8"),r=a.n(n);r.a},6644:function(e,t,a){"use strict";var n=a("76b2"),r=a.n(n);r.a},6849:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  this is quantity adjust component\n")])},r=[],s={name:"QuantityAdjust",data:function(){return{}}},i=s,o=a("2877"),c=Object(o["a"])(i,n,r,!1,null,null,null);t["default"]=c.exports},6926:function(e,t,a){"use strict";var n=a("4bfa"),r=a.n(n);r.a},"693a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-item",{staticClass:"q-pa-none"},[a("q-card",{staticClass:"bg-white full-width",attrs:{square:"",flat:"",bordered:""}},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row",attrs:{clickable:""},on:{click:e.onCardClick}},[a("div",{staticClass:"col-xs-2 col-sm-1 text-center date q-pa-sm"},[e._v("\n        "+e._s(e._f("dateShort")(e.expected_date))+"\n      ")]),a("div",{staticClass:"col"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"col-xs-12 col-sm-9 name q-pa-sm"},[e._v("\n            "+e._s(e._f("uppercaseFirst")(e.supplier))+"\n          ")]),a("div",{staticClass:"col-xs-12 col-sm-3 meta q-pa-sm"},[e._v("\n            "+e._s(e.status)+"\n            "),a("OrderTags")],1)])])])])],1)},r=[],s=a("2b0e"),i=a("a4ac");s["a"].component("OrderTags",i["default"]);var o={name:"SupplierCard",props:{expected_date:{type:String,required:!0},supplier:{type:String,required:!0},type:{type:String,required:!0},status:{type:String,required:!0},number:{type:String,required:!0},id:{type:String,required:!0},index:{type:String,required:!0}},data:function(){return{}},methods:{onCardClick:function(){var e={id:this.id,index:this.index};this.$root.$emit("toggleDisplayEvent",e)}},mounted:function(){console.log("trying to gets all props : ",this)}},c=o,l=(a("588f"),a("2877")),u=a("66e5"),d=a("f09f"),f=a("714f"),p=a("eebe"),m=a.n(p),h=Object(l["a"])(c,n,r,!1,null,null,null);t["default"]=h.exports;m()(h,"components",{QItem:u["a"],QCard:d["a"]}),m()(h,"directives",{Ripple:f["a"]})},"6ab2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",attrs:{maximized:!!e.$q.platform.is.mobile&&e.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin my-card"},[a("q-card-section",{staticClass:"q-pt-xs"},[a("div",{staticClass:"text-h6"},[e._v(e._s(e.title))])]),a("q-card-section",{staticClass:"q-pt-xs"},["date"==e.target?a("q-date",{attrs:{landscape:e.isLandscape},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}):e._e(),"range"==e.target?a("q-date",{attrs:{range:"",landscape:e.isLandscape},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}):e._e(),"other"==e.target?a("QuantityAdjust",{model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}):e._e()],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}}),a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:e.onOKClick}})],1)],1)],1)},r=[],s=a("2b0e"),i=a("c1df"),o=a.n(i),c=a("6849");s["a"].component("QuantityAdjust",c["default"]);var l={name:"DialogBox",data:function(){return{selection:null,maximizedToggle:!0}},props:{target:String,title:String},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){if("date"==this.target)var e=o()(this.selection).format("YYYY-MM-DDTHH:mm:ss+01:mm"),t={fr:e,to:e};if("range"==this.target){var a=o()(this.selection.from).format("YYYY-MM-DDTHH:mm:ss+01:mm"),n=o()(this.selection.to).format("YYYY-MM-DDTHH:mm:ss+01:mm");t={fr:a,to:n}}this.$emit("ok",{data:t}),this.hide()},onCancelClick:function(){this.hide()}},created:function(){},mounted:function(){},computed:{isLandscape:function(){return!(this.$store.state.pickingModule.screenSize.windowWidth>1e3)&&this.$store.state.pickingModule.screenSize.windowWidth>this.$store.state.pickingModule.screenSize.windowHeight}}},u=l,d=(a("6926"),a("2877")),f=a("24e8"),p=a("f09f"),m=a("a370"),h=a("52ee"),g=a("4b7e"),v=a("9c40"),b=a("eebe"),_=a.n(b),y=Object(d["a"])(u,n,r,!1,null,null,null);t["default"]=y.exports;_()(y,"components",{QDialog:f["a"],QCard:p["a"],QCardSection:m["a"],QDate:h["a"],QCardActions:g["a"],QBtn:v["a"]})},"6bda":function(e,t,a){"use strict";var n=a("1bc7"),r=a.n(n);r.a},"6c6c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},r=[],s={name:"QuantityItem",data:function(){return{}},methods:{},mounted:function(){}},i=s,o=a("2877"),c=Object(o["a"])(i,n,r,!1,null,null,null);t["default"]=c.exports},"76b2":function(e,t,a){},"7e6d":function(e,t,a){},"84c1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("q-card",{staticClass:"bg-white q-ma-xs q-pa-xs",attrs:{flat:"",bordered:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-8 ite-nam q-pa-sm"},[e._v("\n        "+e._s(e.item.full_title)+"\n      ")]),a("div",{staticClass:"col-xs-12 col-sm-4 ite-ico q-pa-sm text-right"},[a("q-btn",{attrs:{flat:"",round:"",color:"primary",label:"DLC"}}),e._v("\n        12 / 12\n        "),a("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"priority_high"}}),a("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"check"}})],1)])])],1)},r=[],s=a("2b0e"),i=a("6c6c");s["a"].component("QuantityItem",i["default"]);var o={name:"CartItem",data:function(){return{}},props:{item:{type:Object}},methods:{checkForFields:function(){this.item.hasOwnProperty("received")||(this.item.received=null)}},created:function(){},mounted:function(){this.checkForFields()},computed:{}},c=o,l=(a("21fe"),a("2877")),u=a("f09f"),d=a("9c40"),f=a("eebe"),p=a.n(f),m=Object(l["a"])(c,n,r,!1,null,null,null);t["default"]=m.exports;p()(m,"components",{QCard:u["a"],QBtn:d["a"]})},"8d6f":function(e,t){},"92d5":function(e,t,a){var n={"./MvpPicking.vue":"b8d7","./MvpPicking/CartItem.vue":"84c1","./MvpPicking/DialogBox.vue":"6ab2","./MvpPicking/MainMenu.vue":"aa0a","./MvpPicking/OrderTags.vue":"a4ac","./MvpPicking/PurchaseOrderDisplay.vue":"22f4","./MvpPicking/PurchaseOrdersList.vue":"b203","./MvpPicking/QuantityAdjust.vue":"6849","./MvpPicking/QuantityItem.vue":"6c6c","./MvpPicking/SupplierCard.vue":"693a","./MvpPicking/SupplierInfos.vue":"02ac","./MvpPicking/TargetDate.vue":"1bd0"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="92d5"},"9f70":function(e,t,a){},a4ac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},r=[],s={name:"OrderTags",components:{},data:function(){return{}},methods:{}},i=s,o=a("2877"),c=Object(o["a"])(i,n,r,!1,null,null,null);t["default"]=c.exports},a709:function(e,t){},a82c:function(e,t,a){"use strict";var n=a("4580"),r=a.n(n);r.a},aa0a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-btn",{staticClass:"text-white q-px-md",attrs:{dense:"",flat:"",color:"primary",label:"menu"}},[a("q-menu",{attrs:{anchor:"bottom right",self:"top right"}},[a("q-list",{staticStyle:{"min-width":"100px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}]},[a("q-item-section",{staticStyle:{"font-size":"1.2em","text-align":"right"}},[a("div",[e._v(e._s(e.username))]),a("div",{staticClass:"text-weight-thin"},[e._v(e._s(e.id))])])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.openDialogBox("other")}}},[a("q-item-section",{staticStyle:{"text-align":"right","font-size":"1.2em"}},[e._v("open w/ slug")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"new_releases"}})],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.openDialogBox("range")}}},[a("q-item-section",{staticStyle:{"text-align":"right","font-size":"1.2em"}},[e._v("Periode")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"date_range"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.openDialogBox("date")}}},[a("q-item-section",{staticStyle:{"text-align":"right","font-size":"1.2em"}},[e._v("Jour")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"event"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.today}},[a("q-item-section",{staticStyle:{"text-align":"right","font-size":"1.2em"}},[e._v("Aujourd'hui")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"calendar_today"}})],1)],1)],1)],1)],1)},r=[],s=a("6ab2"),i={name:"MainMenu",data:function(){return{username:null,id:null}},methods:{openDialogBox:function(e){var t=this,a={date:"Choisir une date",range:"Choisir une période",other:"Modifier la quantité"};this.$q.dialog({component:s["default"],parent:this,target:e,title:a[e]}).onOk((function(a){"date"!=e&&"range"!=e||t.$parent.setNewDates(a.data.fr,a.data.to)})).onCancel((function(){})).onDismiss((function(){}))},today:function(){this.$parent.onToday()}},mounted:function(){this.username=this.$store.getters.creds.user.firstname+" "+this.$store.getters.creds.user.lastname,this.id=this.$store.getters.creds.user.id}},o=i,c=a("2877"),l=a("9c40"),u=a("4e73"),d=a("1c1c"),f=a("66e5"),p=a("4074"),m=a("eb85"),h=a("0016"),g=a("7f67"),v=a("eebe"),b=a.n(v),_=Object(c["a"])(o,n,r,!1,null,null,null);t["default"]=_.exports;b()(_,"components",{QBtn:l["a"],QMenu:u["a"],QList:d["a"],QItem:f["a"],QItemSection:p["a"],QSeparator:m["a"],QIcon:h["a"]}),b()(_,"directives",{ClosePopup:g["a"]})},b203:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("TargetDate",{ref:"TargetDateInstance"}),a("div",{staticClass:"q-pa-none"},[a("q-list",{staticClass:"supplier-list"},e._l(e.allPurchaseOrders,(function(t){return a("SupplierCard",e._b({key:t.id},"SupplierCard",t,!1))})),1)],1)],1)},r=[],s=a("2b0e"),i=(a("c1df"),a("bc3a")),o=a.n(i),c=a("1bd0"),l=a("693a");s["a"].component("TargetDate",c["default"]),s["a"].component("SupplierCard",l["default"]);var u={name:"PurchaseOrdersList",components:{TargetDate:c["default"],SupplierCard:l["default"]},data:function(){return{fullResponse:null,allPurchaseOrders:[],queryList:{size:5e3,sort:[{expected_date:{order:"desc",unmapped_type:"boolean"}}],_source:{includes:["number","status","type","expected_date","supplier","line_items","comment","units_ordered","units_received","updated_at","validated"]},query:{bool:{must:[{range:{expected_date:{gte:"",lte:""}}}]}}},indice:"purchase_order*"}},methods:{getPoList:function(){var e=this;this.queryList.query.bool.must[0].range.expected_date.gte=this.$store.getters.targetDate.dateFrom,this.queryList.query.bool.must[0].range.expected_date.lte=this.$store.getters.targetDate.dateTo;var t=this.$store.getters.apiurl+"generic_search/"+this.indice+"?token="+this.$store.getters.creds.token;this.$q.loading.show(),o.a.post(t,this.queryList).then((function(t){e.fullResponse=t,e.allPurchaseOrders=[];for(var a=0;a<t.data.records.length;a++)e.allPurchaseOrders.push(t.data.records[a]._source),e.allPurchaseOrders[a].id=t.data.records[a]._id,e.allPurchaseOrders[a].index=t.data.records[a]._index;e.$store.commit("mutate_allPurchaseOrders",{data:e.allPurchaseOrders}),e.$q.loading.hide()})).catch((function(t){e.$q.loading.hide()}))}},mounted:function(){this.getPoList()}},d=u,f=(a("ea63"),a("2877")),p=a("1c1c"),m=a("eebe"),h=a.n(m),g=Object(f["a"])(d,n,r,!1,null,null,null);t["default"]=g.exports;h()(g,"components",{QList:p["a"]})},b8d7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex bg-grey-5 row"},[a("q-resize-observer",{attrs:{debounce:"500"},on:{resize:e.onResize}}),e.isPurchaseOrderDisplayed?a("div",{staticClass:"my-container full-width"},[a("PurchaseOrderDisplay",{on:{toggleDisplay:e.toggleDisplay}})],1):a("div",{staticClass:"my-container full-width"},[a("PurchaseOrdersList",{ref:"PurchaseOrderListInstance"})],1)],1)},r=[],s=a("2b0e"),i=a("b203"),o=a("22f4");s["a"].component("PurchaseOrdersList",i["default"]),s["a"].component("PurchaseOrderDisplay",o["default"]);var c={name:"MvpPicking",components:{PurchaseOrdersList:i["default"],PurchaseOrderDisplay:o["default"]},data:function(){return{leftDrawerOpen:!1,isPurchaseOrderDisplayed:!1}},methods:{createCustomStore:function(){this.$store.registerModule("pickingModule",{state:{targetDate:{dateFrom:"",dateTo:"",dateFromShort:"",dateToShort:""},currentOrder:{meta:{id:"",index:""},details:{},cart:{}},allPurchaseOrders:{},screenSize:{windowHeight:"",windowWidth:"",appWidth:"",appHeight:""}},getters:{targetDate:function(e){return e.targetDate},currentOrder:function(e){return e.currentOrder},getOrderDetails:function(e){return e.currentOrder.details},allPurchaseOrders:function(e){return e.allPurchaseOrders},screenSize:function(e){return e.screenSize}},mutations:{mutate_screenSize:function(e,t){e.screenSize=t.data},mutate_targetDate:function(e,t){e.targetDate=t.dateObj},mutate_currentOrder:function(e,t){e.currentOrder=t.order},mutate_allPurchaseOrders:function(e,t){e.allPurchaseOrders=t.data}}})},addEventListener:function(){var e=this;this.$root.$on("toggleDisplayEvent",(function(t){e.toggleDisplay(t)}))},removeEventListener:function(){this.$root.$off("toggleDisplayEvent")},toggleDisplay:function(e){this.currentOrderMeta=e,this.$store.commit("mutate_currentOrder",{order:{meta:{id:e.id,index:e.index}}}),this.isPurchaseOrderDisplayed=!this.isPurchaseOrderDisplayed},onResize:function(e){var t={windowWidth:window.innerWidth,windowHeight:window.innerHeight,appHeight:e.height,appWidth:e.width};this.$store.commit("mutate_screenSize",{data:t})}},beforeCreate:function(){this.$q.platform.is.mobile&&this.$q.fullscreen.request().then((function(){console.log("Successfully going fullscreen")})).catch((function(e){console.log("Unable to go fullscreen")}))},created:function(){console.log("Slack token is in : ",this.$store.getters.activeApp),console.log("User is : ",this.$store.getters.creds.user.id),console.log("User is : ",this.$store.getters.creds.user.firstname+" "+this.$store.getters.creds.user.lastname),this.createCustomStore(),this.addEventListener()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){this.removeEventListener(),this.$store.unregisterModule("pickingModule")},destroyed:function(){this.$q.platform.is.mobile&&this.$q.fullscreen.exit().then((function(){})).catch((function(e){}))},computed:{}},l=c,u=(a("3c62"),a("2877")),d=a("9989"),f=a("3980"),p=a("eebe"),m=a.n(p),h=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=h.exports;m()(h,"components",{QPage:d["a"],QResizeObserver:f["a"]})},c9fc:function(e,t,a){},ccc8:function(e,t,a){},da41:function(e,t,a){"use strict";var n=a("e196"),r=a.n(n);r.a},dad6:function(e,t,a){},e196:function(e,t,a){},ea63:function(e,t,a){"use strict";var n=a("9f70"),r=a.n(n);r.a},fbe3:function(e,t,a){}});